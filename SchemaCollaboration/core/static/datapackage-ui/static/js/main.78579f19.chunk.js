(this["webpackJsonpschema-collaboration-react"]=this["webpackJsonpschema-collaboration-react"]||[]).push([[0],{140:function(t,e,n){"use strict";function o(t,e){e||(e=window.location.href),t=t.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function a(){var t=o("source",window.location);window.location.href=t}n.r(e),n.d(e,"getParameterFromUrlByName",(function(){return o})),n.d(e,"onExitApplication",(function(){return a}))},273:function(t,e,n){t.exports=n(274)},274:function(t,e,n){"use strict";n.r(e);n(275),n(276);var o=n(144),a=n.n(o),r=n(632).EditorSchemaCollaborationButtons;console.log(r),a.a.render(a.a.EditorPackage,{descriptor:{},Buttons:r},document.getElementById("root"))},275:function(t,e,n){},328:function(t,e){},330:function(t,e){},357:function(t,e){},359:function(t,e){},439:function(t,e,n){var o={"./geojson.json":217,"./table-schema.json":440,"./topojson.json":218};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=r,t.exports=a,a.id=439},506:function(t,e){},508:function(t,e){},509:function(t,e){},515:function(t,e){},517:function(t,e){},535:function(t,e){},537:function(t,e){},549:function(t,e){},552:function(t,e){},575:function(t,e,n){var o={"./data-package.json":576,"./data-resource.json":577,"./fiscal-data-package.json":578,"./registry.json":579,"./tabular-data-package.json":580,"./tabular-data-resource.json":581};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=r,t.exports=a,a.id=575},632:function(t,e,n){var o=n(31),a=n(0),r=n(0).useEffect,c=n(19).connect,i=n(270).ToastContainer,l=n(633).onSaveToServer,u=n(140).getParameterFromUrlByName,s=n(140).onExitApplication;function d(t){var e=this,n=t.encodedDescriptor,o=t.onUploadChange,c=t.onValidateClick,u=t.onLoadFromServer;return r((function(){return e.loadFromServerButton.click()}),[]),a.createElement("div",null,a.createElement(i,{position:"top-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0}),a.createElement("label",{className:"btn btn-lg btn-success",title:"Upload a data package from your local drive",htmlFor:"load-descriptor"},a.createElement("input",{type:"file",id:"load-descriptor",value:"",style:{display:"none"},onChange:o}),"Upload"),a.createElement("button",{className:"btn btn-lg btn-info",title:"Validate the data package verifying its metadata",onClick:c},"Validate"),a.createElement("a",{className:"btn btn-lg btn-success",href:"data: ".concat(n),download:"datapackage.json",title:"Download the data package to your local drive"},"Download"),a.createElement("button",{className:"btn btn-lg btn-info",title:"Save current schema to the server",onClick:function(){return l("".concat(decodeURIComponent(n)))}},"Save to server"),a.createElement("button",{className:"btn btn-lg btn-info",title:"Load from the server",onClick:u,ref:function(t){e.loadFromServerButton=t}},"Load from the server"),a.createElement("button",{className:"btn btn-lg btn-info",title:"Exit package creator",onClick:function(){return s()}},"Exit package creator"))}var f=c(null,(function(t){return{onUploadChange:function(e){var n=new window.FileReader;n.readAsText(e.target.files[0]),n.onload=function(){t({type:"UPLOAD_PACKAGE",payload:JSON.parse(n.result)})}},onValidateClick:function(){t({type:"VALIDATE_PACKAGE"})},onLoadFromServer:function(){var e=u("load");o.get("/api/datapackage/"+e+"/").then((function(e){console.log(e.data),t({type:"UPLOAD_PACKAGE",payload:e.data})}))}}}))(d);t.exports={EditorSchemaCollaborationButtons:f,EditorSchemaCollaborationButtonsPure:d}},633:function(t,e,n){"use strict";n.r(e),n.d(e,"onSaveToServer",(function(){return c}));var o=n(31),a=n(270).toast,r=n(140).getParameterFromUrlByName;function c(t){var e=r("load");return o("/api/datapackage/"+e+"/",{method:"PUT",data:t}).then((function(t){return a.info("Saved! UUID: "+t.data.uuid,{className:"toast-info"}),t})).catch((function(t){return t}))}}},[[273,1,2]]]);
//# sourceMappingURL=main.78579f19.chunk.js.map