(this["webpackJsonpschema-collaboration-react"]=this["webpackJsonpschema-collaboration-react"]||[]).push([[0],{269:function(e,t,n){"use strict";function o(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}n.r(t),n.d(t,"getParameterFromUrlByName",(function(){return o}))},273:function(e,t,n){e.exports=n(274)},274:function(e,t,n){"use strict";n.r(t);n(275),n(276);var o=n(143),a=n.n(o),r=n(632).EditorSchemaCollaborationButtons;console.log(r),a.a.render(a.a.EditorPackage,{descriptor:{},Buttons:r},document.getElementById("root"))},275:function(e,t,n){},328:function(e,t){},330:function(e,t){},357:function(e,t){},359:function(e,t){},439:function(e,t,n){var o={"./geojson.json":216,"./table-schema.json":440,"./topojson.json":217};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=439},506:function(e,t){},508:function(e,t){},509:function(e,t){},515:function(e,t){},517:function(e,t){},535:function(e,t){},537:function(e,t){},549:function(e,t){},552:function(e,t){},575:function(e,t,n){var o={"./data-package.json":576,"./data-resource.json":577,"./fiscal-data-package.json":578,"./registry.json":579,"./tabular-data-package.json":580,"./tabular-data-resource.json":581};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=575},632:function(e,t,n){var o=n(31),a=n(0),r=n(0).useEffect,c=n(19).connect,i=n(270).ToastContainer,l=n(633).onSaveToServer,u=n(269).getParameterFromUrlByName;function s(e){var t=this,n=e.encodedDescriptor,o=e.onUploadChange,c=e.onValidateClick,u=e.onLoadFromServer;return r((function(){return t.loadFromServerButton.click()}),[]),a.createElement("div",null,a.createElement(i,{position:"top-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0}),a.createElement("label",{className:"btn btn-lg btn-success",title:"Upload a data package from your local drive",htmlFor:"load-descriptor"},a.createElement("input",{type:"file",id:"load-descriptor",value:"",style:{display:"none"},onChange:o}),"Upload"),a.createElement("button",{className:"btn btn-lg btn-info",title:"Validate the data package verifying its metadata",onClick:c},"Validate"),a.createElement("a",{className:"btn btn-lg btn-success",href:"data: ".concat(n),download:"datapackage.json",title:"Download the data package to your local drive"},"Download"),a.createElement("button",{className:"btn btn-lg btn-info",title:"Save current schema to the server",onClick:function(){return l("".concat(decodeURIComponent(n)))}},"Save to server2"),a.createElement("button",{className:"btn btn-lg btn-info",title:"Load from the server",onClick:u,ref:function(e){t.loadFromServerButton=e}},"Load from the server"))}var d=c(null,(function(e){return{onUploadChange:function(t){var n=new window.FileReader;n.readAsText(t.target.files[0]),n.onload=function(){e({type:"UPLOAD_PACKAGE",payload:JSON.parse(n.result)})}},onValidateClick:function(){e({type:"VALIDATE_PACKAGE"})},onLoadFromServer:function(){var t=u("load");o.get("/api/datapackage/"+t+"/").then((function(t){console.log(t.data),e({type:"UPLOAD_PACKAGE",payload:t.data})}))}}}))(s);e.exports={EditorSchemaCollaborationButtons:d,EditorSchemaCollaborationButtonsPure:s}},633:function(e,t,n){"use strict";n.r(t),n.d(t,"onSaveToServer",(function(){return c}));var o=n(31),a=n(270).toast,r=n(269).getParameterFromUrlByName;function c(e){var t=r("load");return o("/api/datapackage/"+t+"/",{method:"PUT",data:e}).then((function(e){return a.info("Saved! UUID: "+e.data.uuid,{className:"toast-info"}),e})).catch((function(e){return e}))}}},[[273,1,2]]]);
//# sourceMappingURL=main.3f7e3aab.chunk.js.map